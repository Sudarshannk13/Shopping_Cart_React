(this.webpackJsonpGrocery=this.webpackJsonpGrocery||[]).push([[0],{49:function(t,e,c){},54:function(t,e,c){"use strict";c.r(e);var n=c(0),i=c.n(n),r=c(18),a=c(9),s=c(23),o=c.n(s),l=(c(49),c(26)),u=c(4),j=c(2);function d(t){var e=t.children;return Object(j.jsx)("div",{className:"page-wrapper",children:e})}var b=c(75),h=c(79),O=c(82),f=c(83),m=c(84),p=c(78),x=c(80),v=c(81),g=c(85),k=function(t){return t>0?"\xa3".concat(t.toFixed(2)):"-"},y=Object(b.a)({table:{},cell:{minWidth:35}});var w=Object(a.b)((function(t){return{cart:t.cart}}))((function(t){var e=t.cart,c=y();return Object(j.jsx)(i.a.Fragment,{children:Object(j.jsx)("div",{className:"till shadow--0",children:Object(j.jsx)(p.a,{component:g.a,children:Object(j.jsxs)(h.a,{className:c.table,children:[Object(j.jsx)(x.a,{children:Object(j.jsxs)(v.a,{children:[Object(j.jsx)(m.a,{scope:"col",align:"center",children:"Product"}),Object(j.jsx)(m.a,{scope:"col",align:"center",className:c.cell,children:"Price"}),Object(j.jsx)(m.a,{scope:"col",align:"center",children:"Qty"}),Object(j.jsx)(m.a,{scope:"col",align:"center",classes:c.root,children:"Discount"}),Object(j.jsx)(m.a,{scope:"col",align:"center",className:c.cell,children:"Total"})]})}),Object(j.jsx)(O.a,{children:e.cart.map((function(t){return Object(j.jsxs)(v.a,{children:[Object(j.jsx)(m.a,{scope:"row",align:"center",children:t.name}),Object(j.jsx)(m.a,{align:"center",children:k(t.price)}),Object(j.jsx)(m.a,{align:"center",children:t.quantity}),Object(j.jsx)(m.a,{align:"center",children:k(t.discount)}),Object(j.jsx)(m.a,{align:"center",children:k(t.price*t.quantity-t.discount)})]})}))}),Object(j.jsxs)(f.a,{children:[Object(j.jsxs)(v.a,{children:[Object(j.jsx)(m.a,{colSpan:3}),Object(j.jsx)(m.a,{size:"small",children:"Subtotal"}),Object(j.jsx)(m.a,{children:k(e.subtotal)})]}),Object(j.jsxs)(v.a,{children:[Object(j.jsx)(m.a,{colSpan:3}),Object(j.jsx)(m.a,{size:"small",children:"Discount"}),Object(j.jsx)(m.a,{children:k(e.discount)})]}),Object(j.jsxs)(v.a,{children:[Object(j.jsx)(m.a,{colSpan:3}),Object(j.jsx)(m.a,{size:"medium",variant:"head",children:"Total"}),Object(j.jsx)(m.a,{size:"medium",variant:"head",children:k(e.total)})]})]})]})})})})})),N=c(22);function T(t){var e=t.unavailible,c=t.stock;return Object(j.jsx)("div",{className:"availible--".concat(e?"out":"in"),children:e?"sorry, out of stock":"".concat(c," in stock")})}var _=function(t){return"\xa3 ".concat(t.toFixed(2))};function S(t){var e=t.price;return Object(j.jsx)("span",{class:"price",children:_(e)})}function q(t){var e=t.handleClick,c=t.quantity,n=t.unavailible,i=t.stock;return Object(j.jsxs)("div",{className:"btn_container",children:[Object(j.jsx)("button",{disabled:n||0===c,onClick:function(){return e(-1)},className:"button btn-quantity--minus",children:"-"}),Object(j.jsx)("span",{className:"quantity",children:c}),Object(j.jsx)("button",{disabled:n||c===i,className:" button btn-quantity--plus",onClick:function(){return e(1)},children:"+"})]})}function E(t){var e=t.handleSubmit,c=t.unavailible;return Object(j.jsx)("button",{onClick:e,disabled:c,className:"button btn-add-to-cart",children:"add to cart"})}var C=Object(a.b)((function(t,e){var c=t.items,n=t.cart;return{item:c[e.id],cart:n}}))((function(t){var e=t.item;return t.cart,Object(j.jsx)("div",{className:"offer",children:e.offer?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd",children:Object(j.jsx)("path",{d:"M12 0c6.623 0 12 5.377 12 12s-5.377 12-12 12-12-5.377-12-12 5.377-12 12-12zm0 1c6.071 0 11 4.929 11 11s-4.929 11-11 11-11-4.929-11-11 4.929-11 11-11zm.5 17h-1v-9h1v9zm-.5-12c.466 0 .845.378.845.845 0 .466-.379.844-.845.844-.466 0-.845-.378-.845-.844 0-.467.379-.845.845-.845z"})}),Object(j.jsx)("span",{children:e.offer?e.offer.description:null})]}):null})}));var D=Object(a.b)((function(t){return{items:t.items}}),(function(t){return{handleSubmit:function(e,c){return t(function(t,e){return{type:"ADD_TO_CART",payload:{item:t,quantity:e}}}(e,c))}}}))((function(t){var e=t.item,c=t.handleSubmit,i=Object(n.useState)(1),r=Object(N.a)(i,2),a=r[0],s=r[1],o=Object(n.useState)(!1),l=Object(N.a)(o,2),u=l[0],d=l[1];Object(n.useEffect)((function(){s(0),0===e.stock?(d(!0),s(0)):d(!1)}),[e.stock]);var b=e.id%5;return Object(j.jsxs)("div",{class:"product shadow--"+b,children:[Object(j.jsx)("h2",{children:e.name}),Object(j.jsx)("img",{className:"img",alt:"Product",src:e.imgUrl}),Object(j.jsx)(T,{unavailible:u,stock:e.stock}),Object(j.jsx)(S,{price:e.price}),Object(j.jsx)(q,{stock:e.stock,quantity:a,handleClick:function(t){s(a+t)},unavailible:u}),Object(j.jsx)(E,{handleSubmit:function(){return c(e,a)},unavailible:u||0===a}),Object(j.jsx)(C,{id:e.id})]})}));var I=Object(a.b)((function(t){return{items:t.items}}))((function(t){var e=t.items;return console.log(e),Object(j.jsx)("section",{className:"shop",children:e.map((function(t){return Object(j.jsx)(D,{item:t})}))})}));function z(){return Object(j.jsxs)("section",{className:"message__container shadow--2",children:[Object(j.jsx)("h1",{children:"Thanks for shopping with us"}),Object(j.jsx)("h2",{children:" We hope to hear from you again soon"})]})}var F=Object(a.b)((function(t){return{cart:t.cart}}))((function(t){return 0===t.cart.cart.length?Object(j.jsx)("div",{disabled:!0,className:"btn-paynow",children:"checkout"}):Object(j.jsx)(l.b,{to:"/pay",className:"btn-paynow",children:"checkout"})}));var U=c(11),P=Object(U.b)(),A=Object(a.b)(null,(function(t){return{handleClick:function(){P.push("/"),t({type:"RESET"})}}}))((function(t){var e=t.handleClick;return Object(j.jsx)("footer",{className:"footer__container",children:Object(j.jsx)("button",{className:"button btn-start-over",onClick:e,children:"start over"})})}));var R=function(){return Object(j.jsxs)(l.a,{history:P,children:[Object(j.jsx)(u.a,{exact:!0,path:"/",children:Object(j.jsxs)(d,{children:[Object(j.jsx)(I,{}),Object(j.jsx)(w,{}),Object(j.jsx)(F,{})]})}),Object(j.jsx)(u.a,{path:"/pay",children:Object(j.jsxs)(d,{children:[Object(j.jsx)(z,{}),Object(j.jsx)(w,{})]})}),Object(j.jsx)(A,{})]})},B=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,87)).then((function(e){var c=e.getCLS,n=e.getFID,i=e.getFCP,r=e.getLCP,a=e.getTTFB;c(t),n(t),i(t),r(t),a(t)}))},G=[{id:0,name:"Mixed Nuts",price:10.99,imgUrl:"https://images.woolworthsstatic.co.za/nPqD0PusgjwIvlJfcAN2nd0xc0Aj.jpg?w=450&q=85",stock:0,offer:null},{id:1,name:"bread",price:1.2,imgUrl:"https://images.heb.com/is/image/HEBGrocery/002001272",stock:5,discount:0,offer:null},{id:2,name:"milk",price:.5,imgUrl:"https://media.istockphoto.com/vectors/realistic-3d-milk-carton-packing-isolated-on-white-vector-id1028104580?k=6&m=1028104580&s=612x612&w=0&h=wLuTpnIefbO_pQIfPFcbyx4mKbRjnvQ_jMZ5FrCVLKY=",stock:7,offer:null},{id:3,name:"cheese",price:.9,imgUrl:"https://mydukaan.s3.amazonaws.com/2911966/91c74e96-753c-4438-8810-3115287c1a8f/71bsxh8irdl.jpg",stock:6,offer:{itemId:3,description:"Two for the price of one!",discount:function(t,e){return(e-e%2)/2*t.price}}},{id:4,name:"soup",price:.6,imgUrl:"https://target.scene7.com/is/image/Target/GUEST_1a72c0e9-5a08-4bca-a972-183ef44467e0?wid=488&hei=488&fmt=pjpeg",stock:5,offer:{itemId:1,description:"Buy soup and get a bread half price!",discount:function(t,e){var c=t.price,n=c*t.quantity/2,i=e*c/2;return n<i?n:i}}},{id:5,name:"butter",price:1.2,imgUrl:"https://target.scene7.com/is/image/Target/GUEST_a7ebe503-cdca-4274-8a25-7c08f4a9540d",stock:5,offer:{itemId:5,description:"Butter is a third off!",discount:function(t,e){return t.price*e/3}}}],L={cart:[],subtotal:0,discount:0,total:0},M=c(10),J=function(t,e){var c=e.item,n=e.quantity,i=c.id;return t.map((function(t,e){return e===i?Object(M.a)(Object(M.a)({},t),{},{stock:t.stock-n}):t}))},Q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_TO_CART":return J(t,e.payload);case"RESET":return G;default:return t}},K=c(19),V=function(t,e){var c=e.item,n=e.quantity,i=Object(K.a)(t.cart),r=t.cart.findIndex((function(t){return t.id===c.id}));if(-1===r){var a=c.id,s=c.price,o=c.name,l=c.offer;return Object(M.a)(Object(M.a)({},t),{},{cart:[].concat(Object(K.a)(i),[{id:a,name:o,price:s,quantity:n,offer:l,discount:0}])})}return i[r].quantity+=n,Object(M.a)(Object(M.a)({},t),{},{cart:i})},W=function(t){var e=t.cart;return e.forEach((function(t){if(t.offer){var c=e.find((function(e){return e.id===t.offer.itemId}));c&&(c.discount=t.offer.discount(c,t.quantity))}})),Object(M.a)(Object(M.a)({},t),{},{cart:e})},X=function(t){var e=t.cart,c=e.reduce((function(t,e){return t+e.price*e.quantity}),0),n=e.reduce((function(t,e){return t+e.discount}),0),i=c-n;return Object(M.a)(Object(M.a)({},t),{},{subtotal:c,discount:n,total:i})},H=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_TO_CART":return X(W(V(t,e.payload)));case"RESET":return L;default:return t}},Y=Object(r.b)({items:Q,cart:H}),Z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||r.c,$=Object(r.d)(Y,Z());o.a.render(Object(j.jsx)(a.a,{store:$,children:Object(j.jsx)(R,{})}),document.getElementById("root")),B()}},[[54,1,2]]]);
//# sourceMappingURL=main.5bb62ef3.chunk.js.map